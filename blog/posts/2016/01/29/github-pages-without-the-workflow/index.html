<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
    <meta name="description" content="Professor<br/> Université Paris Nanterre<br/> LIP6 (Sorbonne Université, CNRS)
">
    <meta name="author" content="Pascal Poizat">
    <title>GitHub Pages without the Workflow</title>

    <!-- Bootstrap -->
    <link rel="stylesheet" href="/Pascal.Poizat/css/main.css">
    <!-- OLD TODO : remove
    <link rel="canonical" href="https://pages.lip6.fr/Pascal.Poizat/Pascal.Poizat/blog/posts/2016/01/29/github-pages-without-the-workflow/">
    -->
    <link rel="canonical" href="https://pages.lip6.fr/Pascal.Poizat/blog/posts/2016/01/29/github-pages-without-the-workflow/">
    <!-- Font Awesome -->
    <link rel="stylesheet" href="/Pascal.Poizat/font-awesome-4.5.0/css/font-awesome.min.css">
    <!-- Mastodon -->
    <link rel="me" href="https://mastodon.xyz/@pascalpoizat">

    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
    <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->

    <!-- management of blocked Javascript -->
    <noscript>
        <style> .ifjavascript {
            display: none
        } </style>
    </noscript>
</head>

<body>

<nav class="navbar navbar-default navbar-fixed-top" role="navigation">
    <div class="container">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar"
                    aria-expanded="false" aria-controls="navbar">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="/Pascal.Poizat/index.html">pascal.poizat</a>
        </div>
        <div id="navbar" class="collapse navbar-collapse">
            <ul class="nav navbar-nav">
                <li >
                    <a class="navbar-link" href="/Pascal.Poizat/index.html">home</a>
                </li>
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                <li >
                    <a class="navbar-link" href="/Pascal.Poizat/teaching/">teaching</a>
                </li>
                
                
                
                <li >
                    <a class="navbar-link" href="/Pascal.Poizat/research/">research</a>
                </li>
                
                
                
                <li >
                    <a class="navbar-link" href="/Pascal.Poizat/duties/">duties</a>
                </li>
                
                
                
                <li >
                    <a class="navbar-link" href="/Pascal.Poizat/bio/">bio</a>
                </li>
                
                
                
                <li >
                    <a class="navbar-link" href="/Pascal.Poizat/blog/">blog</a>
                </li>
                
                
                
                <li >
                    <a class="navbar-link" href="/Pascal.Poizat/contact/">contact</a>
                </li>
                
                
                <!--
                <li>
                    <a class="navbar-link" href="/Pascal.Poizat/index.html#contact">contact</a>
                </li>
                -->
            </ul>
        </div><!--/.nav-collapse -->
    </div>
</nav>


<div class="container">
    <div class="post">

    <header class="post-header">
        <h1 class="post-title">GitHub Pages without the Workflow</h1>
        <p>
<a href="/Pascal.Poizat/blog/categories/jekyll">
    <button class="btn btn-xs btn-primary">
        jekyll <span class="badge">4</span>
    </button>
</a>

<a href="/Pascal.Poizat/blog/categories/github-pages">
    <button class="btn btn-xs btn-primary">
        github-pages <span class="badge">2</span>
    </button>
</a>
</p>
        <p class="post-meta">
            29 Jan 2016<br/>
            
        </p>
        <hr>
    </header>

    <article class="post-content">
        <p class="text-justify">Jekyll nicely <a href="http://jekyllrb.com/docs/github-pages/">integrates with GitHub Pages</a>.
However, this comes with rules that forbid using Jekyll plugins but for authorized ones.<br />
We will see here how to deal with this limit.</p>

<p class="text-justify"><strong>Note:</strong> I am discussing here about User pages on GitHub Pages.
For Project pages things are a bit different. For example for User pages, pages are on a <code class="language-plaintext highlighter-rouge">master</code> branch.
For Project pages, pages are on a <code class="language-plaintext highlighter-rouge">gh-pages</code> branch.
See <a href="https://help.github.com/articles/user-organization-and-project-pages/">here</a>.</p>

<h2 id="two-choices">Two choices</h2>

<p class="text-justify">If you want, e.g., to use the <a href="https://github.com/inukshuk/jekyll-scholar">Jekyll-Scholar</a> plugin
(to generate pages from <code class="language-plaintext highlighter-rouge">.bib</code> BibTeX reference files),
you will have either not to use GitHub Pages
(make a simple <code class="language-plaintext highlighter-rouge">my-web-pages</code> repository and sync your pages with a Web server somewhere else)
or to shortcut the GitHub Pages workflow. This is what we will do here.</p>

<p class="text-justify">This part is based on <a href="https://github.com/barais/barais.github.io">Olivier Barais’s template</a>,
itself based on <a href="https://github.com/rudametw/rudametw.github.io">Walter Rudametkin’s template</a>.
I chose not to fork their templates here since my site structure is different and I also
wanted to build things from scratch to explain how to integrate elements one by one. Yet, without them,
shortcutting the GitHub Pages workflow would certainly have been much more complicated.
Please consider forking their templates that are much more advanced than mine for the moment.</p>

<h2 id="how-things-work-with-the-github-pages-workflow">How things work with the GitHub Pages workflow</h2>

<p class="text-justify">Jekyll takes its sources, i.e., files and specific directories (ones beginning by <code class="language-plaintext highlighter-rouge">_</code> in short) in the current path
and compute pages in subdirectory <code class="language-plaintext highlighter-rouge">_src</code>. See the Jekyll directory structure <a href="http://jekyllrb.com/docs/structure/">here</a>.</p>

<p class="text-justify">GitHub Pages require that your Jekyll sources are in the root directory of <code class="language-plaintext highlighter-rouge">username.github.io</code>.
Then it runs Jekyll and deploys the resulting pages to <code class="language-plaintext highlighter-rouge">http://username.github.io</code>.</p>

<p class="text-justify">If you want to write your pages directly (e.g, without templates) you would have to put them
at the root of the <code class="language-plaintext highlighter-rouge">username.github.io</code> repository and add a <code class="language-plaintext highlighter-rouge">.nojekyll</code> empty file to tell GitHub Pages not to
run Jekyll each time you push things. This is very important if you have directories beginning with <code class="language-plaintext highlighter-rouge">_</code> since
they have a special treatment with Jekyll (they are not deployed on the Web site).</p>

<h2 id="putting-things-together">Putting things together</h2>

<p>The solution that is adopted in <a href="https://github.com/barais/barais.github.io">Olivier Barais’s template</a> and
in <a href="https://github.com/rudametw/rudametw.github.io">Walter Rudametkin’s template</a> is:</p>

<ol>
  <li>
    <p>define a <code class="language-plaintext highlighter-rouge">src</code> directory at the root (of the repository) containing the Jekyll sources</p>
  </li>
  <li>
    <p>edit files in <code class="language-plaintext highlighter-rouge">src</code> as usual, and commit+push them to GitHub regularly</p>
  </li>
  <li>
    <p>have Jekyll run on these sources and place them in <code class="language-plaintext highlighter-rouge">src/_site</code> (default)</p>
  </li>
  <li>
    <p>“build” the site regularly by copying the pages from <code class="language-plaintext highlighter-rouge">src/_site</code> to the root of the repository,
 and then commit+push the new versions of these to GitHub</p>
  </li>
</ol>

<p class="text-justify">For this one has two scripts that automate steps 3. and 4.
Step 3. is achieved by <code class="language-plaintext highlighter-rouge">src/run-jekyll.sh</code>. You can have it run in background while doing steps 1. and 2.
Step 4. is achieved by <code class="language-plaintext highlighter-rouge">src/update-site.sh</code>.</p>

<p class="text-justify"><strong>Note:</strong> Jekyll supports the possibility to tell in its configuration file
where are the source and the target directories.
I may use this in the future to simplify things and avoid some file copying.</p>


    </article>

</div>

</div>

<div class="navbar navbar-default navbar-bottom">
    <div class="container">
        <h4>pascal.poizat</h4>
        <div class="row">
            <div class="col-md-4">
                <p>Professor<br/> Université Paris Nanterre<br/> LIP6 (Sorbonne Université, CNRS)
</p>
            </div>
            <div class="col-md-3">
                <p>
                    
                    <a href="mailto:firstname.lastname@lip6.fr">
                        firstname.lastname@lip6.fr
                    </a><br/>
                    
                    
                    <a href="mailto:firstname.lastname@parisnanterre.fr">
                        firstname.lastname@parisnanterre.fr
                    </a>
                    
                </p>
            </div>
            <div class="col-md-3">
                <p>
                    
                    <i class="fa fa-github-alt"></i>
                    <a href="https://github.com/pascalpoizat">
                        pascalpoizat
                    </a><br/>
                    
                    
                    <i class="fa fa-twitter"></i>
                    <a href="https://twitter.com/pascalpoizat">
                        pascalpoizat
                    </a><br/>
                    
                </p>
            </div>
        </div>
        <div class="footer-col-wrapper">
            <div class="footer-col-thanks">
                <p>
                    pages made with <a href="http://jekyllrb.com">Jekyll</a>,
                    <a class="button" href="http://github.com/pascalpoizat/pascalpoizat.github.io">
                        <button class="btn btn-xs btn-primary"><i
                                class="fa fa-download"></i> get source code
                        </button>
                    </a>
                </p>
            </div>
        </div>
    </div>
</div>


<!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
<!-- Include all compiled plugins (below), or include individual files as needed -->
<script src="/Pascal.Poizat/javascripts/bootstrap.min.js"></script>


</body>

</html>
